<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: JSS::APIConnection
  
    &mdash; The JSS Ruby Gem - access to the CasperSuite API
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!JSS/APIConnection.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (A)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../JSS.html" title="JSS (module)">JSS</a></span></span>
     &raquo; 
    <span class="title">APIConnection</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: JSS::APIConnection
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">JSS::APIConnection</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2">Singleton</dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/jss/api_connection.rb<span class="defines">,<br />
  lib/jss.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>An API connection to the JSS.</p>

<p>This is a singleton class, only one can exist at a time. Its one instance
is created automatically when the module loads, but it isn’t connected to
anything at that time.</p>

<p>Use it via the <span class='object_link'><a href="../JSS.html#API-constant" title="JSS::API (constant)">API</a></span> constant to call the #connect method, and the
<span class='object_link'><a href="#get_rsrc-instance_method" title="JSS::APIConnection#get_rsrc (method)">#get_rsrc</a></span>, <span class='object_link'><a href="#put_rsrc-instance_method" title="JSS::APIConnection#put_rsrc (method)">#put_rsrc</a></span>, <span class='object_link'><a href="#post_rsrc-instance_method" title="JSS::APIConnection#post_rsrc (method)">#post_rsrc</a></span>, &amp; <span class='object_link'><a href="#delete_rsrc-instance_method" title="JSS::APIConnection#delete_rsrc (method)">#delete_rsrc</a></span> methods, q.v.
below.</p>

<p>To access the underlying RestClient::Resource instance, use JSS::API.cnx</p>


  </div>
</div>
<div class="tags">
  

</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="RSRC-constant" class="">RSRC =
          <div class="docstring">
  <div class="discussion">
    
<p>The base API path in the jss URL</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='string val'>&quot;JSSResource&quot;</span>
</pre></dd>
      
        <dt id="HTTP_PORT-constant" class="">HTTP_PORT =
          <div class="docstring">
  <div class="discussion">
    
<p>The Default port</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='integer val'>9006</span>
</pre></dd>
      
        <dt id="SSL_PORT-constant" class="">SSL_PORT =
          <div class="docstring">
  <div class="discussion">
    
<p>The SSL port</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='integer val'>8443</span>
</pre></dd>
      
        <dt id="XML_HEADER-constant" class="">XML_HEADER =
          <div class="docstring">
  <div class="discussion">
    
<p>The top line of an XML doc for submitting data via API</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='string val'>'&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;'</span>
</pre></dd>
      
        <dt id="DFT_OPEN_TIMEOUT-constant" class="">DFT_OPEN_TIMEOUT =
          <div class="docstring">
  <div class="discussion">
    
<p>Default timeouts in seconds</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='integer val'>60</span>
</pre></dd>
      
        <dt id="DFT_TIMEOUT-constant" class="">DFT_TIMEOUT =
          
        </dt>
        <dd><pre class="code"><span class='integer val'>60</span>
</pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#cnx-instance_method" title="#cnx (instance method)">- (RestClient::Resource) <strong>cnx</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The underlying connection resource.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#connected-instance_method" title="#connected (instance method)">- (Boolean) <strong>connected</strong> </a>
    

    
      (also: #connected?)
    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Are we connected right now?.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#jss_user-instance_method" title="#jss_user (instance method)">- (String) <strong>jss_user</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The username who’s connected to the JSS API.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#server-instance_method" title="#server (instance method)">- (JSS::Server) <strong>server</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The details of the JSS to which we’re connected.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#connect-instance_method" title="#connect (instance method)">- (true) <strong>connect</strong>(args = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Connect to the JSS API.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_rsrc-instance_method" title="#delete_rsrc (instance method)">- (String) <strong>delete_rsrc</strong>(rsrc) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Delete a resource from the JSS.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#disconnect-instance_method" title="#disconnect (instance method)">- (void) <strong>disconnect</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>With a REST connection, there isn’t any real “connection” to
disconnect from So to disconnect, we just unset all our credentials.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_rsrc-instance_method" title="#get_rsrc (instance method)">- (Hash, String) <strong>get_rsrc</strong>(rsrc, format = :json) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get an arbitrary JSS resource.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (APIConnection) <strong>initialize</strong> </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>To connect, use JSS::APIConnection.instance.connect or a shortcut,
JSS::API.connect.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#open_timeout%3D-instance_method" title="#open_timeout= (instance method)">- (void) <strong>open_timeout=</strong>(timeout) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Reset the open-connection timeout for the rest connection.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#post_rsrc-instance_method" title="#post_rsrc (instance method)">- (String) <strong>post_rsrc</strong>(rsrc, xml) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a new JSS resource.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#put_rsrc-instance_method" title="#put_rsrc (instance method)">- (String) <strong>put_rsrc</strong>(rsrc, xml) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Change an existing JSS resource.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#timeout%3D-instance_method" title="#timeout= (instance method)">- (void) <strong>timeout=</strong>(timeout) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Reset the response timeout for the rest connection.</p>
</div></span>
  
</li>

      
    </ul>
  


  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="JSS::APIConnection (class)">APIConnection</a></span></tt>) <strong>initialize</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>To connect, use JSS::APIConnection.instance.connect or a shortcut,
JSS::API.connect</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


105
106
107</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_connection.rb', line 105</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_initialize identifier id'>initialize</span> <span class='lparen token'>(</span><span class='rparen token'>)</span>
  <span class='rubyid_@connected ivar id'>@connected</span> <span class='assign token'>=</span> <span class='rubyid_false false kw'>false</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="cnx-instance_method">
  
    - (<tt>RestClient::Resource</tt>) <strong>cnx</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the underlying connection resource</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>RestClient::Resource</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the underlying connection resource</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


89
90
91</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_connection.rb', line 89</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_cnx identifier id'>cnx</span>
  <span class='rubyid_@cnx ivar id'>@cnx</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="connected-instance_method">
  
    - (<tt>Boolean</tt>) <strong>connected</strong>  <span class="extras">(readonly)</span>
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='connected?-instance_method'>connected?</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns are we connected right now?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>are we connected right now?</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


92
93
94</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_connection.rb', line 92</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_connected identifier id'>connected</span>
  <span class='rubyid_@connected ivar id'>@connected</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="jss_user-instance_method">
  
    - (<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>) <strong>jss_user</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the username who’s connected to the JSS API</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the username who’s connected to the JSS API</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


86
87
88</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_connection.rb', line 86</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_jss_user identifier id'>jss_user</span>
  <span class='rubyid_@jss_user ivar id'>@jss_user</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="server-instance_method">
  
    - (<tt><span class='object_link'><a href="Server.html" title="JSS::Server (class)">JSS::Server</a></span></tt>) <strong>server</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the details of the JSS to which we’re connected.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Server.html" title="JSS::Server (class)">JSS::Server</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the details of the JSS to which we’re connected.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


95
96
97</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_connection.rb', line 95</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_server identifier id'>server</span>
  <span class='rubyid_@server ivar id'>@server</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="connect-instance_method">
  
    - (<tt>true</tt>) <strong>connect</strong>(args = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Connect to the JSS API.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>args</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the keyed arguments for connection.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>args</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:server</span>
          <span class="type">(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>Required, the hostname of the JSS API server</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:port</span>
          <span class="type">(<tt>Integer</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>the port number to connect with, defaults to 8443</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:verify_cert</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>should HTTPS SSL certificates be verified. Defaults to true. If your
connection raises RestClient::SSLCertificateNotVerified, and you don’t
care about the validity of the SSL cert. just set this explicitly to false.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:user</span>
          <span class="type">(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>Required, a JSS user who as API privs</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:pw</span>
          <span class="type">(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>, <tt>Symbol</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>Required, the password for that user, or :prompt, or :stdin If :prompt, the
user is promted on the commandline to enter the password for the :user. If
:stdin#, the password is read from a line of std in represented by the
digit at #,  so :stdin3 reads the passwd from the third line of standard
input. defaults to line 1,  if no digit is supplied. see <span class='object_link'><a href="../JSS.html#stdin-class_method" title="JSS.stdin (method)">JSS.stdin</a></span></p>
</div>
          
        </li>
      
        <li>
          <span class="name">:open_timeout</span>
          <span class="type">(<tt>Integer</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>the number of seconds to wait for an initial response, defaults to 60</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:timeout</span>
          <span class="type">(<tt>Integer</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>the number of seconds before an API call times out, defaults to 60</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>true</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="MissingDataError.html" title="JSS::MissingDataError (class)">JSS::MissingDataError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_connection.rb', line 140</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_connect identifier id'>connect</span> <span class='lparen token'>(</span><span class='rubyid_args identifier id'>args</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>

  <span class='comment val'># settings from config if they aren't in the args</span>
  <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:server</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_CONFIG constant id'>CONFIG</span><span class='dot token'>.</span><span class='rubyid_api_server_name identifier id'>api_server_name</span>
  <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:port</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_CONFIG constant id'>CONFIG</span><span class='dot token'>.</span><span class='rubyid_api_server_port identifier id'>api_server_port</span>
  <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:user</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_CONFIG constant id'>CONFIG</span><span class='dot token'>.</span><span class='rubyid_api_username identifier id'>api_username</span>
  <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:timeout</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_CONFIG constant id'>CONFIG</span><span class='dot token'>.</span><span class='rubyid_api_timeout identifier id'>api_timeout</span>
  <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:open_timeout</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_CONFIG constant id'>CONFIG</span><span class='dot token'>.</span><span class='rubyid_api_timeout_open identifier id'>api_timeout_open</span>

  <span class='comment val'># if verify cert given was NOT in the args....</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:verify_cert</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_nil? fid id'>nil?</span>
    <span class='comment val'># set it from the prefs</span>
    <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:verify_cert</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_CONFIG constant id'>CONFIG</span><span class='dot token'>.</span><span class='rubyid_api_verify_cert identifier id'>api_verify_cert</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='comment val'># default settings if needed</span>
  <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:port</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='rubyid_SSL_PORT constant id'>SSL_PORT</span>
  <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:timeout</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='rubyid_DFT_TIMEOUT constant id'>DFT_TIMEOUT</span>
  <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:open_timeout</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='rubyid_DFT_OPEN_TIMEOUT constant id'>DFT_OPEN_TIMEOUT</span>

  <span class='comment val'># must have server, user, and pw</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_MissingDataError constant id'>MissingDataError</span><span class='comma token'>,</span> <span class='string val'>&quot;Missing :server&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:server</span><span class='rbrack token'>]</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_MissingDataError constant id'>MissingDataError</span><span class='comma token'>,</span> <span class='string val'>&quot;Missing :user&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:user</span><span class='rbrack token'>]</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_MissingDataError constant id'>MissingDataError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Missing :pw for user '#{args[:user]}'&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:pw</span><span class='rbrack token'>]</span>

  <span class='rubyid_ssl identifier id'>ssl</span> <span class='assign token'>=</span> <span class='rubyid_SSL_PORT constant id'>SSL_PORT</span> <span class='eq op'>==</span> <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:port</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_to_i identifier id'>to_i</span> <span class='integer val'>? </span><span class='string val'>&quot;s&quot;</span> <span class='colon op'>:</span> <span class='string val'>''</span>
  <span class='rubyid_@rest_url ivar id'>@rest_url</span> <span class='assign token'>=</span> <span class='rubyid_URI constant id'>URI</span><span class='colon2 op'>::</span><span class='rubyid_encode identifier id'>encode</span> <span class='dstring node'>&quot;http#{ssl}://#{args[:server]}:#{args[:port]}/#{RSRC}&quot;</span>

  <span class='comment val'># prep the args for passing to RestClient::Resource</span>
  <span class='comment val'># if verify_cert is nil (unset) or non-false, then we will verify</span>
  <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:verify_ssl</span><span class='rbrack token'>]</span> <span class='assign token'>=</span>  <span class='lparen token'>(</span><span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:verify_cert</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_nil? fid id'>nil?</span> <span class='rubyid_or or kw'>or</span> <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:verify_cert</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='rubyid_OpenSSL constant id'>OpenSSL</span><span class='colon2 op'>::</span><span class='rubyid_SSL constant id'>SSL</span><span class='colon2 op'>::</span><span class='rubyid_VERIFY_PEER constant id'>VERIFY_PEER</span> <span class='colon op'>:</span>  <span class='rubyid_OpenSSL constant id'>OpenSSL</span><span class='colon2 op'>::</span><span class='rubyid_SSL constant id'>SSL</span><span class='colon2 op'>::</span><span class='rubyid_VERIFY_NONE constant id'>VERIFY_NONE</span>
  
  <span class='comment val'># make sure we have a user</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_MissingDataError constant id'>MissingDataError</span><span class='comma token'>,</span> <span class='string val'>&quot;No JSS user specified, or listed in configuration.&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:user</span><span class='rbrack token'>]</span>
  
  <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:password</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_if if kw'>if</span> <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:pw</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='symbol val'>:prompt</span>
    <span class='rubyid_JSS constant id'>JSS</span><span class='dot token'>.</span><span class='rubyid_prompt_for_password identifier id'>prompt_for_password</span> <span class='dstring node'>&quot;Enter the password for JSS user '#{args[:user]}':&quot;</span>
  <span class='rubyid_elsif elsif kw'>elsif</span> <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:pw</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='rubyid_Symbol constant id'>Symbol</span><span class='rparen token'>)</span> <span class='rubyid_and and kw'>and</span> <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:pw</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='rubyid_start_with? fid id'>start_with?</span><span class='lparen token'>(</span><span class='string val'>'stdin'</span><span class='rparen token'>)</span>
    <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:pw</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span> <span class='match op'>=~</span> <span class='regexp val'>/^stdin(\d+)$/</span>
    <span class='rubyid_line identifier id'>line</span> <span class='assign token'>=</span> <span class='rubyid_$1 nth_ref id'>$1</span>
    <span class='rubyid_line identifier id'>line</span> <span class='opasgn op'>||=</span> <span class='integer val'>1</span>
    <span class='rubyid_JSS constant id'>JSS</span><span class='dot token'>.</span><span class='rubyid_stdin identifier id'>stdin</span> <span class='rubyid_line identifier id'>line</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:pw</span><span class='rbrack token'>]</span>
  <span class='rubyid_end end kw'>end</span>
  
  <span class='comment val'># heres our connection</span>
  <span class='rubyid_@cnx ivar id'>@cnx</span> <span class='assign token'>=</span> <span class='rubyid_RestClient constant id'>RestClient</span><span class='colon2 op'>::</span><span class='rubyid_Resource constant id'>Resource</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{@rest_url}&quot;</span><span class='comma token'>,</span> <span class='rubyid_args identifier id'>args</span><span class='rparen token'>)</span>

  <span class='rubyid_@jss_user ivar id'>@jss_user</span> <span class='assign token'>=</span> <span class='rubyid_args identifier id'>args</span><span class='lbrack token'>[</span><span class='symbol val'>:user</span><span class='rbrack token'>]</span>
  <span class='rubyid_@connected ivar id'>@connected</span> <span class='assign token'>=</span> <span class='rubyid_true true kw'>true</span>
  <span class='rubyid_@server ivar id'>@server</span> <span class='assign token'>=</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_Server constant id'>Server</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span>

  <span class='rubyid_if if kw'>if</span> <span class='rubyid_@server ivar id'>@server</span><span class='dot token'>.</span><span class='rubyid_version identifier id'>version</span> <span class='lt op'>&lt;</span> <span class='rubyid_JSS constant id'>JSS</span><span class='dot token'>.</span><span class='rubyid_parse_jss_version identifier id'>parse_jss_version</span><span class='lparen token'>(</span><span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_MINIMUM_SERVER_VERSION constant id'>MINIMUM_SERVER_VERSION</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='symbol val'>:version</span><span class='rbrack token'>]</span>
    <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_UnsupportedError constant id'>UnsupportedError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;Your JSS Server version, #{@server.raw_version}, is to low. Must be #{JSS::MINIMUM_SERVER_VERSION} or higher.&quot;</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_return return kw'>return</span> <span class='rubyid_true true kw'>true</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_rsrc-instance_method">
  
    - (<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>) <strong>delete_rsrc</strong>(rsrc) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Delete a resource from the JSS</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>rsrc</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the resource to create, the URL part after ‘JSSResource/’</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the xml response from the server.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="InvalidConnectionError.html" title="JSS::InvalidConnectionError (class)">JSS::InvalidConnectionError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


307
308
309
310
311
312
313
314</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_connection.rb', line 307</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_delete_rsrc identifier id'>delete_rsrc</span><span class='lparen token'>(</span><span class='rubyid_rsrc identifier id'>rsrc</span><span class='rparen token'>)</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_InvalidConnectionError constant id'>InvalidConnectionError</span><span class='comma token'>,</span> <span class='string val'>&quot;Not Connected. Use JSS::API.connect first.&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_@connected ivar id'>@connected</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_MissingDataError constant id'>MissingDataError</span><span class='comma token'>,</span> <span class='string val'>&quot;Missing :rsrc&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_rsrc identifier id'>rsrc</span><span class='dot token'>.</span><span class='rubyid_nil? fid id'>nil?</span>

  <span class='comment val'>### delete the resource</span>
  <span class='rubyid_@cnx ivar id'>@cnx</span><span class='lbrack token'>[</span><span class='rubyid_rsrc identifier id'>rsrc</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_delete identifier id'>delete</span>

<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="disconnect-instance_method">
  
    - (<tt>void</tt>) <strong>disconnect</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>With a REST connection, there isn’t any real “connection” to
disconnect from So to disconnect, we just unset all our credentials.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


229
230
231
232
233
234</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_connection.rb', line 229</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_disconnect identifier id'>disconnect</span>
  <span class='rubyid_@jss_user ivar id'>@jss_user</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span>
  <span class='rubyid_@rest_url ivar id'>@rest_url</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span>
  <span class='rubyid_@cnx ivar id'>@cnx</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span>
  <span class='rubyid_@connected ivar id'>@connected</span> <span class='assign token'>=</span> <span class='rubyid_false false kw'>false</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_rsrc-instance_method">
  
    - (<tt><span class='object_link'><a href="../Hash.html" title="Hash (class)">Hash</a></span></tt>, <tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>) <strong>get_rsrc</strong>(rsrc, format = :json) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get an arbitrary JSS resource</p>

<p>The first argument is the resource to get (the part of the API url after
the ‘JSSResource/’ )</p>

<p>By default we get the data in JSON, and parse it into a ruby data structure
(arrays, hashes, strings, etc) with symbolized Hash keys.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>rsrc</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the resource to get (the part of the API url after the ‘JSSResource/’ )</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>format</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>:json</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>either ;json or :xml If the second argument is :xml, the XML data is
returned as a String.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Hash.html" title="Hash (class)">Hash</a></span></tt>, <tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the result of the get</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="InvalidConnectionError.html" title="JSS::InvalidConnectionError (class)">JSS::InvalidConnectionError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


254
255
256
257
258
259
260</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_connection.rb', line 254</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_get_rsrc identifier id'>get_rsrc</span> <span class='lparen token'>(</span><span class='rubyid_rsrc identifier id'>rsrc</span><span class='comma token'>,</span> <span class='rubyid_format identifier id'>format</span> <span class='assign token'>=</span> <span class='symbol val'>:json</span><span class='rparen token'>)</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_InvalidConnectionError constant id'>InvalidConnectionError</span><span class='comma token'>,</span> <span class='string val'>&quot;Not Connected. Use JSS::API.connect first.&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_@connected ivar id'>@connected</span>
  <span class='rubyid_rsrc identifier id'>rsrc</span> <span class='assign token'>=</span> <span class='rubyid_URI constant id'>URI</span><span class='colon2 op'>::</span><span class='rubyid_encode identifier id'>encode</span> <span class='rubyid_rsrc identifier id'>rsrc</span>
  <span class='rubyid_data identifier id'>data</span> <span class='assign token'>=</span> <span class='rubyid_@cnx ivar id'>@cnx</span><span class='lbrack token'>[</span><span class='rubyid_rsrc identifier id'>rsrc</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_get identifier id'>get</span><span class='lparen token'>(</span><span class='symbol val'>:accept</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_format identifier id'>format</span><span class='rparen token'>)</span>
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_JSON constant id'>JSON</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='rubyid_data identifier id'>data</span><span class='comma token'>,</span> <span class='symbol val'>:symbolize_names</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_format identifier id'>format</span> <span class='eq op'>==</span> <span class='symbol val'>:json</span>
  <span class='rubyid_data identifier id'>data</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="open_timeout=-instance_method">
  
    - (<tt>void</tt>) <strong>open_timeout=</strong>(timeout) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Reset the open-connection timeout for the rest connection</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>timeout</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the new timeout in seconds</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


218
219
220</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_connection.rb', line 218</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_open_timeout= identifier id'>open_timeout=</span> <span class='lparen token'>(</span><span class='rubyid_timeout identifier id'>timeout</span><span class='rparen token'>)</span>
  <span class='rubyid_@cnx ivar id'>@cnx</span><span class='dot token'>.</span><span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:open_timeout</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_timeout identifier id'>timeout</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="post_rsrc-instance_method">
  
    - (<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>) <strong>post_rsrc</strong>(rsrc, xml) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a new JSS resource</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>rsrc</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the API resource being created, the URL part after ‘JSSResource/’</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>xml</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the xml specifying the new object.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the xml response from the server.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="InvalidConnectionError.html" title="JSS::InvalidConnectionError (class)">JSS::InvalidConnectionError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


290
291
292
293
294
295
296
297
298</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_connection.rb', line 290</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_post_rsrc identifier id'>post_rsrc</span><span class='lparen token'>(</span><span class='rubyid_rsrc identifier id'>rsrc</span><span class='comma token'>,</span><span class='rubyid_xml identifier id'>xml</span><span class='rparen token'>)</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_InvalidConnectionError constant id'>InvalidConnectionError</span><span class='comma token'>,</span> <span class='string val'>&quot;Not Connected. Use JSS::API.connect first.&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_@connected ivar id'>@connected</span>

  <span class='comment val'>### convert CRs &amp; to &amp;#13;</span>
  <span class='rubyid_xml identifier id'>xml</span><span class='dot token'>.</span><span class='rubyid_gsub! fid id'>gsub!</span><span class='lparen token'>(</span><span class='regexp val'>/\r/</span><span class='comma token'>,</span> <span class='string val'>'&amp;#13;'</span><span class='rparen token'>)</span>

  <span class='comment val'>### send the data</span>
  <span class='rubyid_@cnx ivar id'>@cnx</span><span class='lbrack token'>[</span><span class='rubyid_rsrc identifier id'>rsrc</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_post identifier id'>post</span> <span class='rubyid_xml identifier id'>xml</span><span class='comma token'>,</span> <span class='symbol val'>:content_type</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'text/xml'</span><span class='comma token'>,</span> <span class='symbol val'>:accept</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:json</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="put_rsrc-instance_method">
  
    - (<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>) <strong>put_rsrc</strong>(rsrc, xml) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Change an existing JSS resource</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>rsrc</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the API resource being changed, the URL part after ‘JSSResource/’</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>xml</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the xml specifying the changes.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the xml response from the server.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="InvalidConnectionError.html" title="JSS::InvalidConnectionError (class)">JSS::InvalidConnectionError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


271
272
273
274
275
276
277
278
279</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_connection.rb', line 271</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_put_rsrc identifier id'>put_rsrc</span><span class='lparen token'>(</span><span class='rubyid_rsrc identifier id'>rsrc</span><span class='comma token'>,</span><span class='rubyid_xml identifier id'>xml</span><span class='rparen token'>)</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_JSS constant id'>JSS</span><span class='colon2 op'>::</span><span class='rubyid_InvalidConnectionError constant id'>InvalidConnectionError</span><span class='comma token'>,</span> <span class='string val'>&quot;Not Connected. Use JSS::API.connect first.&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_@connected ivar id'>@connected</span>

  <span class='comment val'>### convert CRs &amp; to &amp;#13;</span>
  <span class='rubyid_xml identifier id'>xml</span><span class='dot token'>.</span><span class='rubyid_gsub! fid id'>gsub!</span><span class='lparen token'>(</span><span class='regexp val'>/\r/</span><span class='comma token'>,</span> <span class='string val'>'&amp;#13;'</span><span class='rparen token'>)</span>

  <span class='comment val'>### send the data</span>
  <span class='rubyid_@cnx ivar id'>@cnx</span><span class='lbrack token'>[</span><span class='rubyid_rsrc identifier id'>rsrc</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_put identifier id'>put</span><span class='lparen token'>(</span><span class='rubyid_xml identifier id'>xml</span><span class='comma token'>,</span> <span class='symbol val'>:content_type</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'text/xml'</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="timeout=-instance_method">
  
    - (<tt>void</tt>) <strong>timeout=</strong>(timeout) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>Reset the response timeout for the rest connection</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>timeout</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the new timeout in seconds</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


207
208
209</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/api_connection.rb', line 207</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_timeout= identifier id'>timeout=</span> <span class='lparen token'>(</span><span class='rubyid_timeout identifier id'>timeout</span><span class='rparen token'>)</span>
  <span class='rubyid_@cnx ivar id'>@cnx</span><span class='dot token'>.</span><span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:timeout</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_timeout identifier id'>timeout</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Fri Oct 17 10:17:05 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-1.8.7).
</div>

  </body>
</html>