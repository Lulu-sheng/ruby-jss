<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Time
  
    &mdash; The JSS Ruby Gem - access to the CasperSuite API
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!Time.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (T)</a> &raquo;
    
    
    <span class="title">Time</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Time
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Time</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/jss/ruby_extensions/time.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The JSS API can take incoming timestamp data in three formats:</p>
<ul><li>
<p>plain date: YYYY-mm-dd HH:MM:SS, which is assumed to be in the local
timezone</p>
</li><li>
<p>UTC date: YYYY-mm-ddTHH:MM:SS.mmm [+-]zzzz, the local time with
milliseconds and the timezone offset</p>
</li><li>
<p>Unix epoch with milliseconds, nnnnnnnnnnnnn,  which like all epoch times,
is UTC</p>
</li></ul>

<p>Here we extend Time to return the three formats for use in XML data to pass
back to the API. The API xml works with any of the formats, in appropriate
elements.</p>

<p>Generally this gem uses the epoch format for passing values back to the
API, just to help avoid timezone weirdness, but any should work.</p>

<p>When reading from the API, all three formats are returned in different xml
elements, and the APIObjects in the gem will use the epoch format and the
JSS.epoch_to_time method (q.v.) to store the data as a Ruby Time.</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#jss_msec-instance_method" title="#jss_msec (instance method)">- (Integer) <strong>jss_msec</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The milliseconds of the Time.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_jss_date-instance_method" title="#to_jss_date (instance method)">- (String) <strong>to_jss_date</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The Time formatted for a plain JSS XML date element.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_jss_epoch-instance_method" title="#to_jss_epoch (instance method)">- (Integer) <strong>to_jss_epoch</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The Time as a unix epoch with milliseconds appended.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_jss_utc-instance_method" title="#to_jss_utc (instance method)">- (String) <strong>to_jss_utc</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The Time formatted for a JSS UTC XML date element.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="jss_msec-instance_method">
  
    - (<tt>Integer</tt>) <strong>jss_msec</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the milliseconds of the Time</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the milliseconds of the Time</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


44
45
46</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/ruby_extensions/time.rb', line 44</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_jss_msec identifier id'>jss_msec</span>
  <span class='lparen token'>(</span><span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_usec identifier id'>usec</span><span class='div op'>/</span><span class='float val'>1000.0</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_round identifier id'>round</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_jss_date-instance_method">
  
    - (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>to_jss_date</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the Time formatted for a plain JSS XML date element</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the Time formatted for a plain JSS XML date element</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


54
55
56</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/ruby_extensions/time.rb', line 54</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_to_jss_date identifier id'>to_jss_date</span>
  <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_strftime identifier id'>strftime</span> <span class='string val'>'%Y-%m-%d %H:%M:%S'</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_jss_epoch-instance_method">
  
    - (<tt>Integer</tt>) <strong>to_jss_epoch</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns The Time as a unix epoch with milliseconds appended</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The Time as a unix epoch with milliseconds appended</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


49
50
51</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/ruby_extensions/time.rb', line 49</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_to_jss_epoch identifier id'>to_jss_epoch</span>
  <span class='lparen token'>(</span><span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_strftime identifier id'>strftime</span><span class='lparen token'>(</span><span class='string val'>'%s'</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_jss_msec identifier id'>jss_msec</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='rubyid_ljust identifier id'>ljust</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='string val'>'0'</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_to_i identifier id'>to_i</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_jss_utc-instance_method">
  
    - (<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>) <strong>to_jss_utc</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the Time formatted for a JSS UTC XML date element</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the Time formatted for a JSS UTC XML date element</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


59
60
61</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jss/ruby_extensions/time.rb', line 59</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_to_jss_utc identifier id'>to_jss_utc</span>
  <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_strftime identifier id'>strftime</span><span class='lparen token'>(</span><span class='dstring node'>&quot;%Y-%m-%dT%H:%M:%S.#{self.jss_msec}%z&quot;</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Fri Oct 17 10:17:34 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-1.8.7).
</div>

  </body>
</html>